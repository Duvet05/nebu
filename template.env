# ===========================================
# NEBU - VARIABLES DE ENTORNO OPTIMIZADAS
# ===========================================
# Solo variables REALMENTE necesarias como configuración
# Fecha: Enero 2025
#
# IMPORTANTE:
# - Variables de aplicación (APP_NAME, APP_VERSION) → Hardcodeadas en código
# - Configuración de seguridad (BCRYPT_ROUNDS, MAX_LOGIN_ATTEMPTS) → Constantes en código
# - Feature flags (ENABLE_*) → Sistema de feature flags o constantes
# - Reglas de negocio (límites de pagos) → Constantes en código
#
# Copia este archivo como .env y personaliza los valores

# ===========================================
# ENTORNO
# ===========================================
NODE_ENV=development
BACKEND_PORT=3001

# ===========================================
# BASE DE DATOS - PostgreSQL
# ===========================================
DATABASE_USERNAME=nebu_user
DATABASE_PASSWORD=change_in_production
DATABASE_NAME=nebu_db
DATABASE_SSL=false

# ===========================================
# REDIS - Cache y Sessions
# ===========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=change_redis_password_in_production

# ===========================================
# AUTENTICACIÓN - JWT (Secretos críticos)
# ===========================================
# Generar con: openssl rand -hex 32
JWT_SECRET=generate_with_openssl_rand_hex_32
REFRESH_TOKEN_SECRET=generate_with_openssl_rand_hex_32
SESSION_SECRET=generate_with_openssl_rand_hex_16

# ===========================================
# LIVEKIT - Audio/Video Tiempo Real
# ===========================================
LIVEKIT_URL=wss://your-livekit-server.livekit.cloud
LIVEKIT_API_KEY=your_livekit_api_key
LIVEKIT_API_SECRET=your_livekit_api_secret

# ===========================================
# URLs Y CORS
# ===========================================
DOMAIN=localhost
FRONTEND_URL=http://localhost:3000
ACME_EMAIL=admin@your-domain.com
ALLOW_LOCALHOST_CORS=true
IOT_ALLOW_ALL_ORIGINS=false

# ===========================================
# RESEND - EMAIL DELIVERY
# ===========================================
RESEND_API_KEY=your_resend_api_key_here
FROM_EMAIL=Nebu <contacto@your-domain.com>

# ===========================================
# EMAIL VERIFICATION
# ===========================================
# Set to 'false' to disable email verification (useful when SMTP is not configured)
# Set to 'true' to enable email verification (requires SMTP/Resend configured)
REQUIRE_EMAIL_VERIFICATION=false

# ===========================================
# CULQI - PAGOS (Perú)
# ===========================================
CULQI_SECRET_KEY=sk_test_your_culqi_secret_key
CULQI_PUBLIC_KEY=pk_test_your_culqi_public_key

# ===========================================
# CHROMADB - Base de Datos Vectorial
# ===========================================
CHROMA_URL=http://chromadb:8000
CHROMA_TELEMETRY=FALSE
CHROMA_AUTH_PROVIDER=
CHROMA_AUTH_CREDENTIALS=

# ===========================================
# OPENAI - Para Embeddings y Resúmenes
# ===========================================
OPENAI_API_KEY=sk-your-openai-api-key-here

# ===========================================
# MEMORY CONFIGURATION
# ===========================================
MEMORY_RETENTION_DAYS=30
ENABLE_MEMORY_DECAY=true

# ===========================================
# MONITOREO - Grafana
# ===========================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=change_this_secure_password_24_chars_min

# ===========================================
# LOGGING
# ===========================================
LOG_LEVEL=info

# ===========================================
# NOTAS IMPORTANTES
# ===========================================
# 1. NUNCA subas el archivo .env al repositorio
# 2. Rota todos los secretos en producción
# 3. Usa contraseñas seguras (24+ caracteres)
# 4. Variables removidas del .env (ahora son constantes en código):
#    - APP_NAME, APP_VERSION, APP_DESCRIPTION, SUPPORT_EMAIL
#    - BCRYPT_ROUNDS, MAX_LOGIN_ATTEMPTS, LOCKOUT_DURATION
#    - SESSION_TIMEOUT, MAX_CONCURRENT_SESSIONS
#    - PASSWORD_RESET_EXPIRES_IN, EMAIL_VERIFICATION_EXPIRES_IN
#    - JWT_EXPIRES_IN, REFRESH_TOKEN_EXPIRES_IN
#    - MIN/MAX_PURCHASE_AMOUNT, MAX_DAILY/MONTHLY_SPEND
#    - DEFAULT_CURRENCY, ALLOWED_CURRENCIES
#    - ENABLE_* (feature flags)
#    - REDIS_DB, REDIS_KEY_PREFIX, REDIS_TTL
#    - DATABASE_HOST, DATABASE_PORT, PORT
#    - SMTP_* (deprecado, usar Resend)
#    - LIVEKIT_WS_URL, API_URL, EMAIL_TO (duplicados)
